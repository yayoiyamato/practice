<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>非同期の練習</title>
</head>
<body>
<h1>非同期の練習</h1>
<div id="result"></div>
   
</body>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>

/*
 * ポイント情報を取得
 */
 function getPointData(isMember = true) {
  if (isMember) {
    // 会員情報を取得
      // 履歴情報を取得
        // 成功の場合
          // 結果が0件の場合、ありませんメッセージ
          // 結果が1件以上の場合、表示用の配列に入れる
        // 失敗の場合、エラーメッセージをセットしループぬける
  } else {
    // 履歴情報を取得
      // 成功の場合
        // 結果が0件の場合、ありませんメッセージ
        // 結果が1件以上の場合、表示用の配列に入れる
      // 失敗の場合、エラーメッセージをセット
  }
}

/*
 * 会員情報を取得
 */
 function getMemberData() {
  const d = $.Deferred()
  $.get("./members.json").done(function(memberData) {
    d.resolve(memberData)
  }).fail(function() {
    console.log('メンバー情報取得に失敗')
    d.resolve()
  })
  return d.promise()
}

/*
 * ポイント情報Aを取得
 */
 function getPointAData() {
  const d = $.Deferred()
  $.get("./pointsA.json").done(function(pointDataA) {
    d.resolve(pointDataA)
  })
  return d.promise()
}

/*
 * ポイント情報Bを取得
 */
 function getPointBData() {
  const d = $.Deferred()
  $.get("./pointsB.json").done(function(pointDataB) {
    d.resolve(pointDataB)
  })
  return d.promise()
}
getPointData()

</script>

</html>